# v1.0.x 兼容性版本说明计划书

## 开发说明

项目在测试验证时发现原项目的设计和规划过于理想化，与现实的帆软数据面板存在较大差异。

现有的帆软面板有以下问题：

- 组件（Widget）命名混乱不规范
- 部分面板隐藏了一些弃用的组件

现有的项目设计存在以下问题：

- 调用帆软全局对象太过理想化，未考虑到帆软全局对象包含大量元数据与属性
- 数据格式化和清理过于简单，未考虑到帆软拥有大量图表类型，且每种返回的数据格式不同
- vLLM API 通信配置被放置在前端，不符合行业规范
- 集团部署了两个 LLM，应尝试组成回退阵列

因此，经过评估，将现有框架拆分为两个大版本，一个小版本。分别为：`v1.0.x`，`v1.5.x`，`v.2.0.x`。

该分支 `dev/v1.0` 主要负责 `v1.0.x` 的开发。

## 版本目标

`v1.0.x` 版本的目标是：

- 上线优先
- 稳定性优先

为此，该版本可以牺牲一部份分析报告的准确性。

### 技术路线

为了在不规范的开发和命名中抓取数据，决定直接抓取面板的全局对象，经过简单清理和筛选，发送给 LLM。

该版本主要以稳定上线为主，可以更加粗糙地抓取数据、清理数据。

### 开发计划

- [ ] 创建 BFF 后端服务网关，让后端服务接管 vLLM 通信
- [ ] 仔细研究现有帆软数据面板，尽可能稳定地抓取足够的数据，可以不精细清除元数据和其他属性
- [ ] 设计一个所有面板通用的 UI 界面